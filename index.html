<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒ∞SG Uzmanlƒ±k Sƒ±navƒ± - Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        /* √ñzel Kaydƒ±rma √áubuƒüu */
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
        
        /* A√ßƒ±klama kutusu animasyonu */
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .explanation-box { animation: slideDown 0.4s ease-out forwards; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">

    <div id="quiz-app" class="max-w-2xl mx-auto mt-8"></div>

    <script>
        // --- SORU HAVUZU ---
        const questionPool = [
          // --- MEVZUAT & GENEL HUKUK ---
          { 
            question: "4857 sayƒ±lƒ± ƒ∞≈ü Kanunu'na g√∂re, deneme s√ºresi toplu i≈ü s√∂zle≈ümeleriyle en √ßok ne kadar olabilir?", 
            options: ["2 ay", "3 ay", "4 ay", "6 ay"], 
            correct: 2, 
            category: "Mevzuat",
            explanation: "Bireysel i≈ü s√∂zle≈ümelerinde deneme s√ºresi en √ßok 2 aydƒ±r. Ancak deneme s√ºresi toplu i≈ü s√∂zle≈ümeleriyle 4 aya kadar uzatƒ±labilir."
          },
          { question: "ƒ∞≈ü s√∂zle≈ümesi feshedilen i≈ü√ßiye bildirim s√ºresinde yeni i≈ü arama izni g√ºnde en az ka√ß saattir?", options: ["1 saat", "2 saat", "3 saat", "4 saat"], correct: 1, category: "Mevzuat" },
          { question: "6331 sayƒ±lƒ± ƒ∞SG Kanunu'na g√∂re, i≈ü kazasƒ± ve meslek hastalƒ±ƒüƒ± kayƒ±tlarƒ± ne kadar s√ºre saklanmalƒ±dƒ±r?", options: ["10 yƒ±l", "15 yƒ±l", "20 yƒ±l", "S√ºresiz"], correct: 1, category: "Mevzuat" },
          { question: "Haftalƒ±k √ßalƒ±≈üma s√ºresi yasal olarak en fazla ka√ß saattir?", options: ["40", "45", "48", "50"], correct: 1, category: "Mevzuat" },
          { question: "Gece s√ºresi hangi saatler arasƒ±nƒ± kapsar?", options: ["20:00 - 06:00", "18:00 - 06:00", "20:00 - 08:00", "19:00 - 07:00"], correct: 0, category: "Mevzuat" },
          { question: "√áocuk ve gen√ß i≈ü√ßilerin √ßalƒ±≈ütƒ±rƒ±lamayacaƒüƒ± i≈üler listesi hangi ya≈ü grubunu kapsar?", options: ["14 ya≈üƒ±nƒ± doldurmamƒ±≈ü", "15 ya≈üƒ±nƒ± doldurmamƒ±≈ü", "18 ya≈üƒ±nƒ± doldurmamƒ±≈ü", "21 ya≈üƒ±nƒ± doldurmamƒ±≈ü"], correct: 2, category: "Gen√ß √áalƒ±≈üanlar" },
          { question: "Kamu √ßalƒ±≈üanlarƒ± i√ßin ƒ∞SG kanunu ne zaman tam y√ºr√ºrl√ºƒüe girmi≈ütir/girecektir?", options: ["2013", "2016", "2020", "Ertelenmi≈ütir (2024 sonu vb.)"], correct: 3, category: "Mevzuat" },
          { question: "ƒ∞dari para cezalarƒ±na itiraz s√ºresi tebliƒüden itibaren ka√ß g√ºnd√ºr?", options: ["7 g√ºn", "15 g√ºn", "30 g√ºn", "60 g√ºn"], correct: 2, category: "Hukuk" },
          
          // --- ƒ∞SG ORGANƒ∞ZASYONU & KURULLAR ---
          { question: "ƒ∞≈ü saƒülƒ±ƒüƒ± ve g√ºvenliƒüi kurulu en az ka√ß √ßalƒ±≈üanƒ±n olduƒüu i≈üyerlerinde zorunludur?", options: ["20", "30", "40", "50"], correct: 3, category: "Organizasyon" },
          { question: "Tehlikeli sƒ±nƒ±fta yer alan bir i≈üyerinde ƒ∞SG kurulu ne sƒ±klƒ±kla toplanƒ±r?", options: ["Ayda 1", "2 ayda 1", "3 ayda 1", "6 ayda 1"], correct: 1, category: "Organizasyon" },
          { question: "Az tehlikeli sƒ±nƒ±fta risk deƒüerlendirmesi ka√ß yƒ±lda bir yenilenir?", options: ["2", "4", "6", "8"], correct: 2, category: "Risk Deƒüerlendirme" },
          { question: "Tehlikeli sƒ±nƒ±fta risk deƒüerlendirmesi ka√ß yƒ±lda bir yenilenir?", options: ["2", "4", "6", "10"], correct: 1, category: "Risk Deƒüerlendirme" },
          
          // --- Fƒ∞Zƒ∞KSEL Rƒ∞SK ETMENLERƒ∞ ---
          { question: "G√ºr√ºlt√º Y√∂netmeliƒüi'ne g√∂re 'En y√ºksek maruziyet eylem deƒüeri' ka√ßtƒ±r?", options: ["80 dB(A)", "85 dB(A)", "87 dB(A)", "90 dB(A)"], correct: 1, category: "Fiziksel" },
          { question: "G√ºr√ºlt√º Y√∂netmeliƒüi'ne g√∂re 'Maruziyet sƒ±nƒ±r deƒüeri' ka√ßtƒ±r?", options: ["80 dB(A)", "85 dB(A)", "87 dB(A)", "140 dB(C)"], correct: 2, category: "Fiziksel" },
          
          // --- Dƒ∞ƒûER ---
          { question: "ƒ∞≈ü g√ºvenliƒüi uzmanlarƒ±nƒ±n g√∂rev yetki sorumluluk ve eƒüitimleri hakkƒ±nda y√∂netmeliƒüe g√∂re, C sƒ±nƒ±fƒ± uzman hangi tehlike sƒ±nƒ±fƒ±na bakabilir?", options: ["√áok Tehlikeli", "Tehlikeli", "Az Tehlikeli", "Hepsine"], correct: 2, category: "Mevzuat" },
          { question: "Ki≈üisel Koruyucu Donanƒ±mlar (KKD) ne zaman kullanƒ±lƒ±r?", options: ["Her zaman ilk sƒ±rada", "Toplu koruma √∂nlemleri yetersiz kaldƒ±ƒüƒ±nda", "Maliyet d√º≈ü√ºk olduƒüunda", "√áalƒ±≈üan istediƒüinde"], correct: 1, category: "KKD" }
        ];

        // --- UYGULAMA DURUM DEƒûƒ∞≈ûKENLERƒ∞ ---
        let activeQuestions = []; 
        let currentQuestion = 0;
        let score = 0;
        let showResult = false;
        let gameStarted = false;
        let userAnswers = [];
        let timeLeft = 0; 
        let timerInterval = null;

        // Ayarlar
        let settings = {
            timerEnabled: false,
            instantFeedback: true,
            showExplanation: true, // Yeni ayar
            totalTime: 75 * 60 
        };

        const app = document.getElementById('quiz-app');

        // --- YARDIMCI FONKSƒ∞YONLAR ---

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function formatTime(seconds) {
            const m = Math.floor(seconds / 60);
            const s = seconds % 60;
            return `${m}:${s < 10 ? '0' : ''}${s}`;
        }

        // 1. EKRAN: Ayarlar ve Ba≈ülangƒ±√ß
        function renderStartScreen() {
            setTimeout(() => lucide.createIcons(), 0);

            const poolSize = questionPool.length;
            const questionCountToUse = poolSize < 50 ? poolSize : 50;

            app.innerHTML = `
                <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-lg mx-auto">
                    <div class="text-center mb-8">
                        <i data-lucide="settings-2" class="w-20 h-20 text-blue-500 mx-auto mb-4"></i>
                        <h1 class="text-3xl font-bold text-gray-800">ƒ∞SG Sƒ±nav Sim√ºlat√∂r√º</h1>
                        <p class="text-gray-500 mt-2">Havuzda toplam <strong>${poolSize}</strong> soru var.</p>
                        <p class="text-sm text-blue-600 font-semibold mt-1">Bu oturum i√ßin rastgele ${questionCountToUse} soru se√ßilecek.</p>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="timer" class="w-5 h-5 text-indigo-600"></i>
                                    <span class="font-semibold text-gray-700">Zamanlayƒ±cƒ± (75 Dk)</span>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="timerToggle" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            <p class="text-xs text-gray-500">√ñSYM standart s√ºresi (75 dk) uygulanƒ±r.</p>
                        </div>

                        <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="eye" class="w-5 h-5 text-indigo-600"></i>
                                    <span class="font-semibold text-gray-700">Anlƒ±k Cevap</span>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="feedbackToggle" checked class="sr-only peer" onchange="toggleExplanationOption()">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            <p class="text-xs text-gray-500">Doƒüru/Yanlƒ±≈ü renkleri i≈üaretleyince hemen g√∂r√ºn√ºr.</p>
                        </div>

                        <div id="explanationOptionContainer" class="bg-gray-50 p-4 rounded-xl border border-gray-200 transition-opacity duration-300">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="book-open" class="w-5 h-5 text-indigo-600"></i>
                                    <span class="font-semibold text-gray-700">Detaylƒ± √á√∂z√ºm</span>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="explanationToggle" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            <p class="text-xs text-gray-500">Cevapladƒ±ktan sonra konu anlatƒ±mƒ±nƒ±/a√ßƒ±klamayƒ± g√∂ster.</p>
                        </div>
                    </div>

                    <button onclick="startQuiz()" class="w-full mt-8 bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-transform hover:scale-[1.02] flex items-center justify-center gap-2">
                        <i data-lucide="play" class="w-5 h-5"></i>
                        Sƒ±navƒ± Ba≈ülat
                    </button>
                </div>
            `;
        }

        // Anlƒ±k cevap kapalƒ±ysa a√ßƒ±klama se√ßeneƒüini de pasif yapar (g√∂rsel olarak)
        function toggleExplanationOption() {
            const feedbackOn = document.getElementById('feedbackToggle').checked;
            const expContainer = document.getElementById('explanationOptionContainer');
            const expInput = document.getElementById('explanationToggle');
            
            if (!feedbackOn) {
                expContainer.classList.add('opacity-50', 'pointer-events-none');
                expInput.checked = false;
            } else {
                expContainer.classList.remove('opacity-50', 'pointer-events-none');
                expInput.checked = true;
            }
        }

        function startQuiz() {
            const timerToggle = document.getElementById('timerToggle').checked;
            const feedbackToggle = document.getElementById('feedbackToggle').checked;
            const explanationToggle = document.getElementById('explanationToggle').checked;

            settings.timerEnabled = timerToggle;
            settings.instantFeedback = feedbackToggle;
            settings.showExplanation = explanationToggle;
            
            // --- SORU SE√áƒ∞Mƒ∞ ---
            const shuffledPool = shuffleArray(questionPool);
            const limit = questionPool.length < 50 ? questionPool.length : 50;
            activeQuestions = shuffledPool.slice(0, limit);

            if (settings.timerEnabled) {
                timeLeft = settings.totalTime;
                startTimer();
            }

            gameStarted = true;
            currentQuestion = 0;
            score = 0;
            userAnswers = new Array(activeQuestions.length).fill(null);
            showResult = false;
            
            render();
        }

        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishQuiz();
                } else {
                    const timerEl = document.getElementById('timer-display');
                    if (timerEl) timerEl.innerText = formatTime(timeLeft);
                }
            }, 1000);
        }

        // 2. ANA RENDER FONKSƒ∞YONU
        function render() {
            if (!gameStarted) {
                renderStartScreen();
                return;
            }
            if (showResult) {
                renderResult();
            } else {
                renderQuestion();
            }
            lucide.createIcons();
        }

        // 3. EKRAN: Soru ve ≈ûƒ±klar
        function renderQuestion() {
            const q = activeQuestions[currentQuestion];
            const progress = ((currentQuestion + 1) / activeQuestions.length) * 100;
            const userAnswer = userAnswers[currentQuestion];
            const isAnswered = userAnswer !== null;

            // Timer HTML
            let timerHtml = '';
            if (settings.timerEnabled) {
                const timerColor = timeLeft < 300 ? 'text-red-700 bg-red-100 border-red-200' : 'text-orange-700 bg-orange-100 border-orange-200';
                timerHtml = `
                    <div class="${timerColor} px-4 py-2 rounded-lg font-mono font-bold flex items-center gap-2 border">
                        <i data-lucide="clock" class="w-4 h-4"></i>
                        <span id="timer-display">${formatTime(timeLeft)}</span>
                    </div>
                `;
            }

            // ≈ûƒ±klar HTML
            let optionsHtml = '';
            q.options.forEach((option, index) => {
                let buttonClass = "w-full p-4 text-left rounded-xl border-2 transition-all duration-200 flex items-center justify-between mb-3 group ";
                let iconHtml = '';

                if (!isAnswered) {
                    buttonClass += "border-gray-200 hover:border-blue-400 hover:bg-blue-50 bg-white cursor-pointer";
                } else {
                    if (settings.instantFeedback) {
                        if (index === q.correct) {
                            buttonClass += "border-green-500 bg-green-50";
                            iconHtml = '<i data-lucide="check-circle" class="w-6 h-6 text-green-500"></i>';
                        } else if (index === userAnswer) {
                            buttonClass += "border-red-500 bg-red-50";
                            iconHtml = '<i data-lucide="x-circle" class="w-6 h-6 text-red-500"></i>';
                        } else {
                            buttonClass += "border-gray-200 bg-gray-50 opacity-50";
                        }
                    } else {
                        // Sƒ±nav modu (sadece se√ßileni mavi yap)
                        if (index === userAnswer) {
                            buttonClass += "border-blue-600 bg-blue-100 ring-2 ring-blue-200";
                            iconHtml = '<i data-lucide="circle-dot" class="w-6 h-6 text-blue-600"></i>';
                        } else {
                            buttonClass += "border-gray-200 bg-gray-50 opacity-70";
                        }
                    }
                }

                const onClickAttr = !isAnswered ? `onclick="handleAnswer(${index})"` : '';

                optionsHtml += `
                    <button ${onClickAttr} class="${buttonClass}">
                        <span class="font-medium text-gray-800 group-hover:text-blue-700 transition-colors">${option}</span>
                        ${iconHtml}
                    </button>
                `;
            });

            // --- A√áIKLAMA KUTUSU MANTIƒûI ---
            let explanationHtml = '';
            // G√ñSTERME ≈ûARTI: Cevaplanmƒ±≈ü olmalƒ± + Anlƒ±k Cevap A√ßƒ±k olmalƒ± + A√ßƒ±klama G√∂ster A√ßƒ±k olmalƒ±
            if (isAnswered && settings.instantFeedback && settings.showExplanation) {
                const expText = q.explanation ? q.explanation : "Bu soru i√ßin detaylƒ± a√ßƒ±klama eklenmemi≈ütir.";
                explanationHtml = `
                    <div class="explanation-box mt-4 mb-2 p-4 bg-indigo-50 border-l-4 border-indigo-500 rounded-r-xl shadow-sm">
                        <div class="flex items-start gap-3">
                            <i data-lucide="book-open-check" class="w-6 h-6 text-indigo-600 mt-1 flex-shrink-0"></i>
                            <div>
                                <h4 class="font-bold text-indigo-900 text-sm uppercase tracking-wide mb-1">√á√∂z√ºm / Bilgi Notu</h4>
                                <p class="text-indigo-800 text-sm leading-relaxed">${expText}</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            // Buton HTML
            let actionButtonHtml = '';
            if (isAnswered) {
                const isLast = currentQuestion + 1 === activeQuestions.length;
                actionButtonHtml = `
                    <button onclick="${isLast ? 'finishQuiz()' : 'nextQuestion()'}" class="w-full mt-2 bg-gray-800 text-white py-4 rounded-xl font-bold text-lg hover:bg-black transition-all shadow-lg flex justify-center gap-2 items-center">
                        ${isLast ? 'Sƒ±navƒ± Bitir' : 'Sonraki Soru'}
                        <i data-lucide="${isLast ? 'flag' : 'arrow-right'}" class="w-5 h-5"></i>
                    </button>
                `;
            }

            // Ana HTML Yapƒ±sƒ±
            app.innerHTML = `
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden min-h-[600px] flex flex-col">
                    <div class="bg-white border-b border-gray-100 p-6 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="bg-blue-100 p-2 rounded-lg">
                                <i data-lucide="book-open" class="w-6 h-6 text-blue-600"></i>
                            </div>
                            <div>
                                <h1 class="text-lg font-bold text-gray-800">ƒ∞SG Sƒ±nav Sim√ºlat√∂r√º</h1>
                                <span class="text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded">${q.category}</span>
                            </div>
                        </div>
                        ${timerHtml}
                    </div>

                    <div class="w-full bg-gray-100 h-1.5">
                        <div class="bg-blue-600 h-1.5 transition-all duration-300" style="width: ${progress}%"></div>
                    </div>

                    <div class="p-6 md:p-8 flex-1 flex flex-col justify-center">
                        <div class="mb-6">
                            <span class="text-sm font-semibold text-blue-600 mb-2 block">Soru ${currentQuestion + 1} / ${activeQuestions.length}</span>
                            <h2 class="text-2xl font-bold text-gray-800 leading-tight">${q.question}</h2>
                        </div>

                        <div class="space-y-3">
                            ${optionsHtml}
                        </div>
                        
                        ${explanationHtml}

                        ${actionButtonHtml}
                    </div>
                </div>
            `;
        }

        function handleAnswer(index) {
            userAnswers[currentQuestion] = index;
            render();
        }

        function nextQuestion() {
            if (currentQuestion + 1 < activeQuestions.length) {
                currentQuestion++;
                render();
            }
        }

        function finishQuiz() {
            clearInterval(timerInterval);
            score = 0;
            userAnswers.forEach((ans, idx) => {
                if (ans === activeQuestions[idx].correct) score++;
            });
            showResult = true;
            render();
        }

        function restartQuiz() {
            gameStarted = false;
            render();
        }

        // 4. EKRAN: Sonu√ß
        function renderResult() {
            const totalQ = activeQuestions.length;
            const percentage = Math.round((score / totalQ) * 100);
            
            let message = "";
            let colorClass = "";
            if (percentage >= 70) {
                message = "Tebrikler! Belgeyi kaptƒ±n! üéì";
                colorClass = "text-green-600";
            } else {
                message = "Maalesef Kaldƒ±n. Biraz daha tekrar lazƒ±m. üìö";
                colorClass = "text-red-600";
            }

            let summaryHtml = '';
            activeQuestions.forEach((q, idx) => {
                const givenAns = userAnswers[idx];
                const isCorrect = givenAns === q.correct;
                const isEmpty = givenAns === null;
                
                let statusIcon = '';
                let statusClass = '';
                
                if (isCorrect) {
                    statusIcon = 'check-circle';
                    statusClass = 'text-green-500 bg-green-50 border-green-200';
                } else if (isEmpty) {
                    statusIcon = 'minus-circle';
                    statusClass = 'text-gray-400 bg-gray-50 border-gray-200';
                } else {
                    statusIcon = 'x-circle';
                    statusClass = 'text-red-500 bg-red-50 border-red-200';
                }

                summaryHtml += `
                    <div class="flex items-start gap-3 p-3 rounded-lg border ${statusClass} text-sm">
                        <i data-lucide="${statusIcon}" class="w-5 h-5 flex-shrink-0 mt-0.5"></i>
                        <div class="w-full">
                            <span class="font-bold text-gray-700 block mb-1">Soru ${idx + 1}: ${q.question}</span>
                            <div class="grid grid-cols-1 gap-1">
                                <span class="${isCorrect ? 'font-bold text-green-700' : 'text-gray-500 line-through'}">
                                    Doƒüru: ${q.options[q.correct]}
                                </span>
                                ${!isCorrect && !isEmpty ? `<span class="font-bold text-red-700">Senin Cevabƒ±n: ${q.options[givenAns]}</span>` : ''}
                                ${isEmpty ? `<span class="text-orange-600 italic">Bo≈ü Bƒ±rakƒ±ldƒ±</span>` : ''}
                            </div>
                            ${q.explanation ? `<div class="mt-2 text-xs text-gray-600 bg-white p-2 rounded border border-gray-100">‚ÑπÔ∏è ${q.explanation}</div>` : ''}
                        </div>
                    </div>
                `;
            });

            app.innerHTML = `
                <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-3xl mx-auto">
                    <div class="text-center border-b border-gray-100 pb-8 mb-8">
                        <div class="inline-flex p-4 rounded-full bg-gray-50 mb-4">
                            <i data-lucide="award" class="w-16 h-16 ${percentage >= 70 ? 'text-yellow-500' : 'text-gray-400'}"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Sƒ±nav Tamamlandƒ±</h2>
                        <p class="text-xl font-medium ${colorClass}">${message}</p>
                        
                        <div class="grid grid-cols-3 gap-4 mt-8">
                            <div class="bg-blue-50 p-4 rounded-xl">
                                <p class="text-blue-600 text-sm font-semibold uppercase">Puan</p>
                                <p class="text-3xl font-bold text-blue-900">${score}</p>
                            </div>
                            <div class="bg-indigo-50 p-4 rounded-xl">
                                <p class="text-indigo-600 text-sm font-semibold uppercase">Ba≈üarƒ±</p>
                                <p class="text-3xl font-bold text-indigo-900">%${percentage}</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-xl">
                                <p class="text-gray-500 text-sm font-semibold uppercase">Soru</p>
                                <p class="text-3xl font-bold text-gray-800">${totalQ}</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <i data-lucide="list-checks" class="w-5 h-5"></i>
                            Detaylƒ± Rapor
                        </h3>
                        <div class="h-96 overflow-y-auto space-y-2 pr-2 custom-scrollbar">
                            ${summaryHtml}
                        </div>
                    </div>

                    <button onclick="restartQuiz()" class="w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-black transition-all shadow-lg flex items-center justify-center gap-2">
                        <i data-lucide="rotate-ccw" class="w-5 h-5"></i>
                        Ana Men√ºye D√∂n
                    </button>
                </div>
            `;
            lucide.createIcons();
        }

        // ƒ∞lk render
        render();
    </script>
</body>
</html>
